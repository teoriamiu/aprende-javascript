<!DOCTYPE html>
<html>
<body>

<h2>游땕 춰Symbol!</h2>

<script>
// ===============================
// Symbol
// ===============================

// Symbol es un tipo de dato primitivo introducido en ES6.
//
// Representa un valor 칰nico e irrepetible.
// Ning칰n s칤mbolo es igual a otro, incluso si
// fueron creados con la misma descripci칩n.

// Comparaci칩n con strings:

console.log(String() === String());
// > true

console.log(String("My string.") === String("My string."));
// > true

// Comparaci칩n con s칤mbolos:

console.log(Symbol() === Symbol());
// > false

// ===============================
// Symbol como clave 칰nica
// ===============================

// Los s칤mbolos pueden usarse como claves
// de propiedades en objetos.
//
// Esto evita colisiones accidentales
// con otras propiedades.

{
const mySymbol = Symbol("Desc");

const myObject = {};
myObject[mySymbol] = "propSymbol";

console.log(myObject);
}
// > Object { Symbol("Desc"): "propSymbol" }

// ===============================
// Descripci칩n del Symbol
// ===============================

// Symbol() puede recibir una descripci칩n.
// Esta descripci칩n es solo informativa
// y no afecta su unicidad.

Symbol("My symbol.") === Symbol("My symbol.");
// > false

{
let mySymbol = Symbol("My symbol.");
console.log(mySymbol.description);
// > "My symbol."
}

// No se puede usar new con Symbol:

// mySymbol = new Symbol();
// > Uncaught TypeError: Symbol is not a constructor

// ===============================
// Enumerabilidad
// ===============================

// Las propiedades con clave Symbol
// no aparecen en iteraciones normales.
//
// Para acceder a ellas se usa:

// Object.getOwnPropertySymbols(obj)

// ===============================
// Symbol.for()
// ===============================

// Symbol.for() usa un registro global
// de s칤mbolos compartidos.
//
// Si la clave ya existe,
// devuelve el mismo s칤mbolo.

let sharedSymbol = Symbol.for("My key.");

console.log(sharedSymbol === Symbol.for("My key."));
// > true

console.log(Symbol("String") === Symbol("String"));
// > false

console.log(("String") === Symbol.for("String"));
// > false

console.log(Symbol.for("String") === Symbol.for("String"));
// > true

// Para recuperar la clave
// de un s칤mbolo global:

let mySymbol = Symbol.for("Key.");

console.log(Symbol.keyFor(mySymbol));
// > "Key."

// ===============================
// S칤mbolos conocidos
// ===============================

// Existen s칤mbolos est치ticos en el objeto Symbol.
// Se llaman "well-known symbols".
//
// Permiten modificar comportamientos internos
// del lenguaje de forma controlada.

/*
console.log(Symbol);
> asyncIterator: Symbol(Symbol.asyncIterator)
> hasInstance: Symbol("Symbol.hasInstance")
> iterator: Symbol(Symbol.iterator)
> match: Symbol("Symbol.match")
> replace: Symbol("Symbol.replace")
...
*/

// Estos s칤mbolos funcionan como
// puntos de extensi칩n del lenguaje.

</script>

</body>
</html>